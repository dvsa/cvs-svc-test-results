"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const derefSync = require("json-schema-deref-sync");
const $RefParser = require("json-schema-ref-parser");
const index_1 = require("./../index");
const _1 = require("./../__tests__/lib/");
const benchmark_1 = require("./benchmark");
const title = 'jst/dereference comparision - petstore.swagger.json';
const description = 'This benchmark tests the performance of the jst/dereference function using ' +
    'the demo Petstore API swagger from the open api homepage. This is a medium ' +
    'sized json payload.';
const refParser = new $RefParser();
const tests = [
    {
        id: 'jst/dereference',
        deferred: false,
        exec: () => {
            index_1.dereference(require('./../__tests__/fixture/petstore.swagger.json'), _1.resolve);
        },
    },
    {
        id: 'json-schema-deref-sync',
        deferred: false,
        exec: () => {
            derefSync(require('./../__tests__/fixture/petstore.swagger.json'));
        },
    },
    {
        id: 'json-schmea-ref-parser',
        deferred: true,
        exec: (defer) => {
            refParser.dereference(require('./../__tests__/fixture/petstore.swagger.json'), (err, x) => {
                if (err) {
                    throw err;
                }
                defer.resolve();
            }).catch((reason) => {
                defer.reject(reason);
            });
        },
    },
];
benchmark_1.benchmark(title, description, tests);
//# sourceMappingURL=dereference-petstore-swagger.benchmark.js.map