"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Ajv = require("ajv");
const address = require("./../fixture/address+v1.schema.json");
const addressOverride = require("./../fixture/address-override+v1.schema.json");
const circular = require("./../fixture/circular.schema.json");
const conditional = require("./../fixture/conditional.schema.json");
const credentials = require("./../fixture/credentials+v1.schema.json");
const editPerson = require("./../fixture/edit-person+v1.schema.json");
const person = require("./../fixture/person+v1.schema.json");
const profile = require("./../fixture/profile+v1.schema.json");
/**
 * A validation helper for our test schema.
 */
class Validator {
    constructor(config = {}) {
        this.schema = [];
        const schema = [
            address,
            addressOverride,
            circular,
            conditional,
            credentials,
            editPerson,
            person,
            profile,
        ];
        const cnf = Object.assign({ extendRefs: true, allErrors: true }, config);
        this.ajv = new Ajv(cnf);
        this.load(schema);
    }
    load(schema) {
        schema.map((scm) => {
            this.ajv.addSchema(scm);
            this.schema.push(scm);
        });
        return this;
    }
    getSchema(id) {
        const lookup = this.ajv.getSchema(id);
        return !lookup ? undefined : lookup.schema;
    }
}
exports.Validator = Validator;
//# sourceMappingURL=Validator.js.map